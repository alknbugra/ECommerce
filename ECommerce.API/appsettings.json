{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=ECommerceDb;Trusted_Connection=true;MultipleActiveResultSets=true"
  },
  "Jwt": {
    "SecretKey": "ECommerce_Super_Secret_Key_That_Should_Be_At_Least_32_Characters_Long_For_Security",
    "Issuer": "ECommerce.API",
    "Audience": "ECommerce.Users",
    "AccessTokenExpirationMinutes": 60,
    "RefreshTokenExpirationDays": 7,
    "ClockSkewMinutes": 5
  },
  "FileUpload": {
    "UploadPath": "wwwroot/uploads",
    "WebBasePath": "/uploads",
    "MaxFileSize": 5242880,
    "AllowedFileTypes": [
      "image/jpeg",
      "image/jpg",
      "image/png",
      "image/gif",
      "image/webp"
    ],
    "AllowedExtensions": [".jpg", ".jpeg", ".png", ".gif", ".webp"],
    "ValidFileNamePattern": "^[a-zA-Z0-9._-]+$",
    "MaxFileNameLength": 100
  },
  "Cache": {
    "Enabled": true,
    "DefaultExpirationMinutes": 30,
    "MaxSizeMB": 100,
    "CleanupIntervalMinutes": 5,
    "ProductCacheMinutes": 15,
    "CategoryCacheMinutes": 30,
    "UserCacheMinutes": 10,
    "OrderCacheMinutes": 5
  },
  "Serilog": {
    "MinimumLevel": "Debug",
    "EnableConsoleSink": true,
    "EnableFileSink": true,
    "LogFilePath": "logs/ecommerce-.log",
    "FileSizeLimitMB": 100,
    "RetainedFileCountLimit": 10,
    "RollingInterval": "Day",
    "UseJsonFormat": true,
    "EnableStructuredLogging": true,
    "EnableRequestLogging": true,
    "EnablePerformanceLogging": true,
    "EnableSensitiveDataMasking": true,
    "SensitiveFields": [
      "password",
      "token",
      "secret",
      "key",
      "authorization",
      "creditcard",
      "ssn",
      "email",
      "phone"
    ]
  },
  "RateLimiting": {
    "EnableRateLimiting": true,
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 100
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 1000
      }
    ],
    "AuthRules": [
      {
        "Endpoint": "POST:/api/auth/login",
        "Period": "1m",
        "Limit": 5
      },
      {
        "Endpoint": "POST:/api/auth/register",
        "Period": "1m",
        "Limit": 3
      },
      {
        "Endpoint": "POST:/api/auth/forgot-password",
        "Period": "1h",
        "Limit": 3
      }
    ],
    "ApiRules": [
      {
        "Endpoint": "POST:/api/products",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "PUT:/api/products/*",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "DELETE:/api/products/*",
        "Period": "1m",
        "Limit": 5
      }
    ]
  },
  "OpenTelemetry": {
    "Enabled": true,
    "ServiceName": "ECommerce.API",
    "ServiceVersion": "1.0.0",
    "ServiceNamespace": "ECommerce",
    "OtlpEndpoint": null,
    "EnableConsoleExporter": true,
    "EnableAspNetCoreInstrumentation": true,
    "EnableEntityFrameworkCoreInstrumentation": true,
    "EnableHttpClientInstrumentation": true,
    "EnableSqlClientInstrumentation": true,
    "SamplingRatio": 1.0,
    "MaxActivitiesPerSecond": 1000,
    "MaxEventsPerActivity": 100,
    "MaxLinksPerActivity": 100,
    "MaxAttributesPerActivity": 1000
  },
  "OpenSearch": {
    "Enabled": true,
    "NodeUris": ["http://localhost:9200"],
    "IndexFormat": "ecommerce-logs-{0:yyyy.MM.dd}",
    "IndexTemplateName": "ecommerce-logs-template",
    "Username": null,
    "Password": null,
    "ApiKey": null,
    "CertificateFingerprint": null,
    "VerifySsl": true,
    "ConnectionTimeoutSeconds": 30,
    "RequestTimeoutSeconds": 60,
    "BatchSize": 1000,
    "BatchPostingIntervalSeconds": 2,
    "QueueSizeLimit": 10000,
    "AutoRegisterTemplate": true,
    "TemplateLifetimeDays": 30,
    "NumberOfShards": 1,
    "NumberOfReplicas": 0,
    "IndexRefreshInterval": "5s",
    "EnableIndexLifecycleManagement": true,
    "IndexRetentionDays": 30,
    "BufferSizeMB": 10,
    "FlushIntervalSeconds": 5,
    "RetryCount": 3,
    "RetryDelaySeconds": 1,
    "EnableDeadLetterQueue": true,
    "DeadLetterQueuePath": "logs/dead-letter-queue",
    "CustomFields": {
      "Application": "ECommerce.API",
      "Environment": "Development",
      "Version": "1.0.0"
    }
  },
  "PaymentGateway": {
    "Iyzico": {
      "ApiKey": "sandbox-your-api-key",
      "SecretKey": "sandbox-your-secret-key",
      "BaseUrl": "https://sandbox-api.iyzipay.com",
      "IsTestMode": true
    }
  },
  "Email": {
    "Smtp": {
      "Host": "smtp.gmail.com",
      "Port": 587,
      "Username": "your-email@gmail.com",
      "Password": "your-app-password",
      "EnableSsl": true
    },
    "From": {
      "Email": "noreply@yourapp.com",
      "Name": "E-Commerce"
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Information"
    }
  },
  "AllowedHosts": "*"
}
